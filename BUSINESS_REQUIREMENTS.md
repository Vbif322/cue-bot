# Бизнес-требования к проекту Cue Bot

## 1. Общая информация

### 1.1 Название проекта

Cue Bot — Telegram бот для автоматизации турниров по бильярду

### 1.2 Цель проекта

Автоматизация процесса организации и проведения турниров по бильярду, снижение административной нагрузки на организаторов и улучшение пользовательского опыта участников.

### 1.3 Бизнес-задачи

- Упростить процесс регистрации участников на турниры
- Автоматизировать формирование турнирной сетки
- Обеспечить прозрачность ведения протоколов матчей
- Минимизировать количество споров о результатах через систему подтверждений
- Снизить время на администрирование турниров
- Повысить вовлеченность участников через своевременные уведомления

## 2. Целевая аудитория

### 2.1 Участники турниров

- Любители и профессионалы бильярда
- Наличие Telegram аккаунта
- Базовые навыки работы с мессенджерами

### 2.2 Администраторы

- Организаторы турниров
- Владельцы бильярдных клубов
- Судьи и технический персонал

## 3. Роли пользователей

### 3.1 Участник

**Описание:** Зарегистрированный игрок, участвующий в турнирах

**Права:**

- Просмотр доступных турниров
- Регистрация на турниры
- Просмотр турнирной сетки
- Внесение результатов своих матчей
- Подтверждение результатов матчей соперника
- Получение уведомлений

### 3.2 Администратор

**Описание:** Пользователь с расширенными правами для управления турнирами

**Права:**

- Все права участника
- Создание турниров
- Редактирование параметров турниров
- Удаление турниров
- Добавление/удаление участников
- Ручное изменение результатов матчей
- Дисквалификация участников
- Управление расписанием

### 3.3 Судья

**Описание:** Пользователь, ответственный за контроль проведения матчей и фиксацию результатов

**Права:**

- Все права участника
- Внесение результатов любых матчей
- Подтверждение результатов без ожидания согласия игроков
- Разрешение спорных ситуаций на месте
- Присвоение технических поражений
- Контроль соблюдения правил

## 4. Функциональные требования

### 4.1 Модуль "Турниры"

#### 4.1.1 Просмотр турниров (Участник)

- Отображение списка активных турниров
- Фильтрация по статусу (регистрация открыта, идет турнир, завершен)
- Просмотр детальной информации о турнире:
  - Название
  - Формат (одиночная элиминация, двойная элиминация, круговая система)
  - Дата и время начала
  - Дисциплина (пул, снукер, русский бильярд и т.д.)
  - Количество участников (текущее/максимальное)
  - Статус регистрации

#### 4.1.2 Создание турнира (Администратор)

- Указание названия турнира
- Выбор дисциплины
- Выбор формата турнира
- Установка даты и времени начала
- Установка лимита участников
- Настройка правил (до скольки побед, особые правила)
- Публикация турнира

#### 4.1.3 Редактирование турнира (Администратор)

- Изменение всех параметров турнира
- Возможность редактирования до старта турнира
- Ограниченное редактирование после старта (только критические параметры)

#### 4.1.4 Удаление турнира (Администратор)

- Удаление турниров в статусе "регистрация"
- Подтверждение удаления
- Уведомление всех зарегистрированных участников

### 4.2 Модуль "Регистрация"

#### 4.2.1 Регистрация на турнир (Участник)

- Просмотр условий участия
- Подтверждение регистрации
- Получение подтверждения о регистрации
- Отмена регистрации (до начала турнира)

#### 4.2.2 Управление участниками (Администратор)

- Просмотр списка зарегистрированных участников
- Ручное добавление участников
- Удаление участников
- Подтверждение регистрации (если требуется модерация)

### 4.3 Модуль "Турнирная сетка"

#### 4.3.1 Просмотр сетки (Участник)

- Визуализация турнирной сетки
- Отображение результатов завершенных матчей
- Отображение статусов матчей (запланирован, идет, завершен)
- Выделение своих матчей
- Просмотр пути к финалу

#### 4.3.2 Формирование сетки (Автоматически)

- Автоматическое создание сетки после закрытия регистрации
- Учет рейтинга участников при посеве (опционально)
- Случайная жеребьевка

### 4.4 Модуль "Матчи и протоколы"

#### 4.4.1 Внесение результата (Участник)

- Выбор завершенного матча
- Ввод счета матча
- Отправка на подтверждение сопернику
- Просмотр истории своих матчей

#### 4.4.2 Подтверждение результата (Участник)

- Получение запроса на подтверждение
- Просмотр внесенного счета
- Подтверждение результата
- Оспаривание результата (обращение к администратору)

#### 4.4.3 Ручное управление результатами (Администратор)

- Просмотр всех матчей
- Принудительное внесение результата
- Корректировка счета
- Технические поражения
- Переигровки

### 4.5 Модуль "Уведомления"

#### 4.5.1 Уведомления участникам

- Подтверждение регистрации на турнир
- Формирование турнирной сетки
- Приближение времени матча (за 1 час, за 30 минут)
- Запрос на подтверждение результата
- Подтверждение результата соперником
- Результаты турнира

#### 4.5.2 Уведомления администраторам

- Новая регистрация на турнир
- Достижение лимита участников
- Спорные ситуации с результатами
- Долгое отсутствие результата матча

### 4.6 Модуль "Дисквалификация"

#### 4.6.1 Дисквалификация участника (Администратор)

- Выбор участника
- Указание причины
- Подтверждение действия
- Автоматическое присуждение технических поражений
- Уведомление дисквалифицированного участника

## 5. Нефункциональные требования

### 5.1 Производительность

- Время отклика на команды: не более 2 секунд
- Поддержка одновременной работы до 1000 пользователей
- Отправка уведомлений в течение 1 минуты после события

### 5.2 Доступность

- Доступность сервиса: 99% времени
- Работа 24/7
- Поддержка работы на мобильных устройствах через Telegram

### 5.3 Безопасность

- Защита от несанкционированного доступа к административным функциям
- Валидация всех пользовательских данных
- Защита от спама и злоупотреблений

### 5.4 Масштабируемость

- Возможность проведения нескольких турниров одновременно
- Поддержка турниров с количеством участников от 4 до 128
- Архитектура должна позволять добавление новых дисциплин и форматов

### 5.5 Удобство использования

- Интуитивно понятный интерфейс
- Поддержка русского языка
- Минимальное количество шагов для выполнения типовых операций
- Inline-кнопки для основных действий

### 5.6 Надежность

- Сохранение всех данных турниров
- Защита от потери данных при сбоях
- Логирование всех важных операций

## 6. Ограничения и допущения

### 6.1 Ограничения

- Платформа: только Telegram
- Язык интерфейса: русский (на первом этапе)
- Требуется интернет-соединение

### 6.2 Допущения

- Пользователи имеют базовые навыки работы с Telegram
- Участники добросовестно вносят результаты
- Администраторы доступны для разрешения спорных ситуаций

## 7. Критерии приемки

### 7.1 MVP (Минимально жизнеспособный продукт)

1. Создание турнира администратором
2. Регистрация участников
3. Автоматическое формирование сетки
4. Внесение и подтверждение результатов
5. Базовые уведомления
6. Просмотр турнирной сетки

### 7.2 Полная версия

1. Все функции MVP
2. Расширенное управление турнирами
3. Дисквалификация и технические действия
4. Полная система уведомлений
5. Поддержка различных форматов турниров
6. Статистика и история

## 8. Риски

| Риск                                             | Вероятность | Влияние | Митигация                                                               |
| ------------------------------------------------ | ----------- | ------- | ----------------------------------------------------------------------- |
| Отсутствие подтверждения результата от соперника | Высокая     | Среднее | Автоматическое подтверждение через 24 часа + уведомление администратору |
| Одновременное внесение разных результатов        | Средняя     | Высокое | Блокировка второго внесения + уведомление администратору                |
| Технические сбои Telegram API                    | Низкая      | Высокое | Механизм повторных попыток + очередь сообщений                          |
| Злоупотребление системой                         | Средняя     | Среднее | Ограничение частоты действий + модерация администраторами               |

## 9. Этапы разработки

### Этап 1: Базовая функциональность (MVP)

- Авторизация и роли пользователей
- Создание простых турниров (одиночная элиминация)
- Регистрация участников
- Формирование сетки
- Внесение результатов с подтверждением

### Этап 2: Расширенные возможности

- Дополнительные форматы турниров
- Полная система уведомлений
- Административные функции
- Дисквалификация

### Этап 3: Улучшения

- Статистика участников
- История турниров
- Рейтинговая система
- Экспорт данных

## 10. Глоссарий

**Турнир** — соревнование по бильярду с определенным форматом и правилами

**Турнирная сетка** — схема проведения матчей в турнире

**Дисквалификация** — исключение участника из турнира по решению администратора

**Техническое поражение** — поражение, присуждаемое без игры (неявка, дисквалификация)

**Одиночная элиминация** — формат турнира, где участник выбывает после первого поражения

**Двойная элиминация** — формат турнира с сеткой проигравших

**Круговая система** — формат, где каждый играет с каждым

**Протокол матча** — запись результата игры
